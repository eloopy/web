<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Eloopy HomeCam</title>
  <script>
    window.onload = function () {
      const scriptURL = 'https://script.google.com/macros/s/AKfycbwwRzmEMdniHfq_HhahdX0sHzCJJT1zfQXjTe2AwVWNIDwdMAJ63hF1Gxtbrse77uPBbA/exec';

      fetch(scriptURL)
        .then(response => response.text())
        .then(ip => {
          if (ip) {
            const targetURL = `http://${ip.trim()}`;
            console.log("Redirecting to:", targetURL);
            window.location.href = targetURL;
          } else {
            document.body.innerHTML = "<h3>Error: No IP found</h3>";
          }
        })
        .catch(error => {
          console.error("Failed to fetch IP:", error);
          document.body.innerHTML = "<h3>Failed to connect to script</h3>";
        });
    };
  </script>
</head>
<body>
  <h2>Redirecting to HomeCam address...</h2>
</body>
</html>
